(()=>{var w=Object.defineProperty;var U=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var A=Object.prototype.hasOwnProperty;var I=(e,n)=>{for(var o in n)w(e,o,{get:n[o],enumerable:!0})},O=(e,n,o,l)=>{if(n&&typeof n=="object"||typeof n=="function")for(let s of y(n))!A.call(e,s)&&s!==o&&w(e,s,{get:()=>n[s],enumerable:!(l=U(n,s))||l.enumerable});return e};var x=e=>O(w({},"__esModule",{value:!0}),e);var i=(e,n,o)=>new Promise((l,s)=>{var F=r=>{try{d(o.next(r))}catch(p){s(p)}},N=r=>{try{d(o.throw(r))}catch(p){s(p)}},d=r=>r.done?l(r.value):Promise.resolve(r.value).then(F,N);d((o=o.apply(e,n)).next())});var R={};I(R,{onUnload:()=>D});var u={name:"Dorion",invoke:(e,n)=>{var o;return(o=window.__TAURI__)!=null&&o.invoke?window.__TAURI__.invoke(e,n):window.__TAURI__.core.invoke(e,n)},event:{emit:(e,n)=>window.__TAURI__.event.emit(e,n),listen:(e,n)=>i(void 0,null,function*(){return window.__TAURI__.event.listen(e,n)})},app:{getVersion:()=>window.__TAURI__.app.getVersion()},process:{relaunch:()=>window.__TAURI__.process.relaunch()},apiWindow:{appWindow:{setFullscreen:e=>{var n,o;return(o=(n=window.__TAURI__)==null?void 0:n.webviewWindow)!=null&&o.getCurrentWebviewWindow?window.__TAURI__.webviewWindow.getCurrentWebviewWindow().setFullscreen(e):window.__TAURI__.window.appWindow.setFullscreen(e)}}}};var _={name:"Flooed",invoke:(e,n)=>window.Flooed.invoke(e,n),event:{emit:()=>{},listen:()=>i(void 0,null,function*(){})},app:{getVersion:()=>window.Flooed.version},process:{relaunch:()=>window.Flooed.invoke("relaunch")},apiWindow:{appWindow:{setFullscreen:e=>window.Flooed.invoke("set_fullscreen",e)}}};var b={name:"Unknown",invoke:()=>i(void 0,null,function*(){}),event:{emit:()=>{},listen:()=>i(void 0,null,function*(){})},app:{getVersion:()=>"0.0.0"},process:{relaunch:()=>{}},apiWindow:{appWindow:{setFullscreen:()=>{}}}};var c="None";window.Dorion?c="Dorion":window.Flooed&&(c="Flooed");var t;switch(c){case"Dorion":t=u;break;case"Flooed":t=_;break;default:t=b;break}var q=window[c];var H=t.name,j=t.invoke,z=t.event,M=t.app,J=t.process,m=t.apiWindow;var{flux:{dispatcher:a}}=shelter,W=!1,f=e=>i(void 0,null,function*(){var o;if(W)return;let n=document.querySelector("#dorion_topbar");n&&(n.style.display=e!=null&&e.isElementFullscreen?"none":"initial"),(o=m.appWindow)==null||o.setFullscreen(e==null?void 0:e.isElementFullscreen)}),k=e=>{W=e},v=()=>{k(!1)},g=()=>{k(!0)};a.subscribe("WINDOW_FULLSCREEN_CHANGE",f);a.subscribe("POPOUT_WINDOW_OPEN",g);a.subscribe("WINDOW_UNLOAD",v);var D=()=>{a.unsubscribe("WINDOW_FULLSCREEN_CHANGE",f),a.unsubscribe("POPOUT_WINDOW_OPEN",g),a.unsubscribe("WINDOW_UNLOAD",v)};return x(R);})();
