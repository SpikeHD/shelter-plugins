(()=>{var u=Object.defineProperty;var O=Object.getOwnPropertyDescriptor;var x=Object.getOwnPropertyNames;var y=Object.prototype.hasOwnProperty;var D=(e,n)=>{for(var o in n)u(e,o,{get:n[o],enumerable:!0})},U=(e,n,o,l)=>{if(n&&typeof n=="object"||typeof n=="function")for(let t of x(n))!y.call(e,t)&&t!==o&&u(e,t,{get:()=>n[t],enumerable:!(l=O(n,t))||l.enumerable});return e};var A=e=>U(u({},"__esModule",{value:!0}),e);var i=(e,n,o)=>new Promise((l,t)=>{var F=r=>{try{p(o.next(r))}catch(d){t(d)}},N=r=>{try{p(o.throw(r))}catch(d){t(d)}},p=r=>r.done?l(r.value):Promise.resolve(r.value).then(F,N);p((o=o.apply(e,n)).next())});var h={};D(h,{onUnload:()=>I});var w={name:"Dorion",invoke:(e,n)=>window.__TAURI__.invoke(e,n),event:{emit:(e,n)=>window.__TAURI__.event.emit(e,n),listen:(e,n)=>i(void 0,null,function*(){return window.__TAURI__.event.listen(e,n)})},app:{getVersion:()=>window.__TAURI__.app.getVersion()},process:{relaunch:()=>window.__TAURI__.process.relaunch()},apiWindow:{appWindow:{setFullscreen:e=>window.__TAURI__.window.appWindow.setFullscreen(e)}}};var _={name:"Flooed",invoke:(e,n)=>window.Flooed.invoke(e,n),event:{emit:()=>{},listen:()=>i(void 0,null,function*(){})},app:{getVersion:()=>window.Flooed.version},process:{relaunch:()=>window.Flooed.invoke("relaunch")},apiWindow:{appWindow:{setFullscreen:e=>window.Flooed.invoke("set_fullscreen",e)}}};var b={name:"Unknown",invoke:()=>i(void 0,null,function*(){}),event:{emit:()=>{},listen:()=>i(void 0,null,function*(){})},app:{getVersion:()=>"0.0.0"},process:{relaunch:()=>{}},apiWindow:{appWindow:{setFullscreen:()=>{}}}};var c="None";window.Dorion?c="Dorion":window.Flooed&&(c="Flooed");var s;switch(c){case"Dorion":s=w;break;case"Flooed":s=_;break;default:s=b;break}var q=window[c];var H=s.name,j=s.invoke,z=s.event,J=s.app,K=s.process,m=s.apiWindow;var{flux:{dispatcher:a}}=shelter,f=!1,k=e=>i(void 0,null,function*(){var o;if(f)return;let n=document.querySelector("#dorion_topbar");n&&(n.style.display=e!=null&&e.isElementFullscreen?"none":"initial"),(o=m.appWindow)==null||o.setFullscreen(e==null?void 0:e.isElementFullscreen)}),W=e=>{f=e},g=()=>{W(!1)},v=()=>{W(!0)};a.subscribe("WINDOW_FULLSCREEN_CHANGE",k);a.subscribe("POPOUT_WINDOW_OPEN",v);a.subscribe("WINDOW_UNLOAD",g);var I=()=>{a.unsubscribe("WINDOW_FULLSCREEN_CHANGE",k),a.unsubscribe("POPOUT_WINDOW_OPEN",v),a.unsubscribe("WINDOW_UNLOAD",g)};return A(h);})();
