(()=>{var d=Object.defineProperty;var v=Object.getOwnPropertyDescriptor;var A=Object.getOwnPropertyNames;var I=Object.prototype.hasOwnProperty;var U=(e,n)=>{for(var o in n)d(e,o,{get:n[o],enumerable:!0})},x=(e,n,o,c)=>{if(n&&typeof n=="object"||typeof n=="function")for(let s of A(n))!I.call(e,s)&&s!==o&&d(e,s,{get:()=>n[s],enumerable:!(c=v(n,s))||c.enumerable});return e};var y=e=>x(d({},"__esModule",{value:!0}),e);var t=(e,n,o)=>new Promise((c,s)=>{var O=r=>{try{l(o.next(r))}catch(p){s(p)}},F=r=>{try{l(o.throw(r))}catch(p){s(p)}},l=r=>r.done?c(r.value):Promise.resolve(r.value).then(O,F);l((o=o.apply(e,n)).next())});var R={};U(R,{onUnload:()=>D});var _={invoke:(e,n)=>window.__TAURI__.invoke(e,n),event:{emit:(e,n)=>window.__TAURI__.event.emit(e,n),listen:(e,n)=>t(void 0,null,function*(){return window.__TAURI__.event.listen(e,n)})},app:{getVersion:()=>window.__TAURI__.app.getVersion(),getName:()=>window.__TAURI__.app.getName()},process:{relaunch:()=>window.__TAURI__.process.relaunch()},apiWindow:{appWindow:{setFullscreen:e=>window.__TAURI__.window.appWindow.setFullscreen(e)}}};var w={invoke:()=>t(void 0,null,function*(){}),event:{emit:()=>{},listen:()=>t(void 0,null,function*(){})},app:{getVersion:()=>"0.0.0",getName:()=>"None"},process:{relaunch:()=>{}},apiWindow:{appWindow:{setFullscreen:()=>{}}}};var b={invoke:()=>t(void 0,null,function*(){}),event:{emit:()=>{},listen:()=>t(void 0,null,function*(){})},app:{getVersion:()=>"0.0.0",getName:()=>"None"},process:{relaunch:()=>{}},apiWindow:{appWindow:{setFullscreen:()=>{}}}};var u="Dorion";window.Flooed&&(u="Flooed");var i;switch(u){case"Dorion":i=_;break;case"Flooed":i=w;break;default:i=b;break}var q=window[u];var H=i.invoke,j=i.event,z=i.app,J=i.process,f=i.apiWindow;var{flux:{dispatcher:a}}=shelter,N=!1,m=e=>t(void 0,null,function*(){var o;if(N)return;let n=document.querySelector("#dorion_topbar");n&&(n.style.display=e!=null&&e.isElementFullscreen?"none":"initial"),(o=f.appWindow)==null||o.setFullscreen(e==null?void 0:e.isElementFullscreen)}),W=e=>{N=e},g=()=>{W(!1)},k=()=>{W(!0)};a.subscribe("WINDOW_FULLSCREEN_CHANGE",m);a.subscribe("POPOUT_WINDOW_OPEN",k);a.subscribe("WINDOW_UNLOAD",g);var D=()=>{a.unsubscribe("WINDOW_FULLSCREEN_CHANGE",m),a.unsubscribe("POPOUT_WINDOW_OPEN",k),a.unsubscribe("WINDOW_UNLOAD",g)};return y(R);})();
