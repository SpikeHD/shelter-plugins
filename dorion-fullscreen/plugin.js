(()=>{var O=Object.defineProperty;var U=Object.getOwnPropertyDescriptor;var f=Object.getOwnPropertyNames;var F=Object.prototype.hasOwnProperty;var L=(e,s)=>{for(var t in s)O(e,t,{get:s[t],enumerable:!0})},A=(e,s,t,r)=>{if(s&&typeof s=="object"||typeof s=="function")for(let n of f(s))!F.call(e,n)&&n!==t&&O(e,n,{get:()=>s[n],enumerable:!(r=U(s,n))||r.enumerable});return e};var g=e=>A(O({},"__esModule",{value:!0}),e);var b=(e,s,t)=>new Promise((r,n)=>{var I=c=>{try{o(t.next(c))}catch(i){n(i)}},P=c=>{try{o(t.throw(c))}catch(i){n(i)}},o=c=>c.done?r(c.value):Promise.resolve(c.value).then(I,P);o((t=t.apply(e,s)).next())});var h={};L(h,{onUnload:()=>C});var{flux:{dispatcher:u}}=shelter,{window:{appWindow:_}}=window.__TAURI__,l=!1,N=e=>b(void 0,null,function*(){if(l)return;let s=document.querySelector("#dorion_topbar");s&&(s.style.display=e!=null&&e.isElementFullscreen?"none":"initial"),_==null||_.setFullscreen(e==null?void 0:e.isElementFullscreen)}),W=e=>{l=e},E=()=>{W(!1)},D=()=>{W(!0)};u.subscribe("WINDOW_FULLSCREEN_CHANGE",N);u.subscribe("POPOUT_WINDOW_OPEN",D);u.subscribe("WINDOW_UNLOAD",E);var C=()=>{u.unsubscribe("WINDOW_FULLSCREEN_CHANGE",N),u.unsubscribe("POPOUT_WINDOW_OPEN",D),u.unsubscribe("WINDOW_UNLOAD",E)};return g(h);})();
